<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>game</title>
    <link rel="stylesheet" href="./game2.css">
    <link rel="stylesheet" href="../setting.css">
</head>

<body>

    <main>
        <div class="codeBar">

            <div class="explan">
                <div class="develo">
                    <img src="../images/develo.png" alt="develo">
                </div>
                <P class="develo_chat">

                </P>
            </div>

            <div class="btn_wrap">
                <a href="./stage.html" class="goStage">스테이지로</a>
                <div class="hint">힌트!</div>
                <a href="./game3.html" class="next">다음 단계</a>
            </div>

            <div class="code_box">

                <div class="code_wrap">
                    <ul class="numbering">
                        <li>1</li>
                        <li>2</li>
                        <li>3</li>
                        <li>4</li>
                        <li>5</li>
                        <li>6</li>
                        <li>7</li>
                        <li>8</li>
                        <li>9</li>
                        <li>10</li>
                        <li>11</li>
                        <li>12</li>
                        <li>13</li>
                        <li>14</li>
                        <li>15</li>
                    </ul>
                    <div class="code_write">
                        <div class="exam">/* height 값을 부모 요소의 10% + 20px 정도의 값으로 설정해줄래? */</div>
                        <div class="hint_msg">/* 크기를 정할 수 있는 css속성중에 calc() 라는 속성이 있어
                            <br>이 속성은 표현식으로 다양한 값을 받아, 그 값을 계산해서 결과값으로 바꿔주는 속성이야
                            <br>예를 들면 width: calc(100% + 100px) 이런식으로 말이지 */
                        </div>
                        <br>
                        <pre>.earth {</pre>
                        <span class="details">width: 100%;</span>
                        <br><span class="details">position: absolute;</span>
                        <br><span class="details">bottom: 0;</span>
                        <textarea type="text" id="code_box"></textarea>
                        <pre>}</pre>
                    </div>
                </div>


                <div class="complete_btn">
                    완료
                </div>
            </div>
        </div>
        <div class="running_wrap">
            <div class="target_el">
                <div class="earth"></div>
            </div>
        </div>


    </main>


    <script>


        const input = document.querySelector('#code_box');
        const develo = document.querySelector('.develo img');
        const develoChat = document.querySelector('.develo_chat');
        const targetEl = document.querySelector('.target_el');


        let correct = 'height: calc(10% + 20px)';
        let correct2 = 'height: calc(20px+ 10%)';
        document.querySelector('.complete_btn').addEventListener('click', () => {

            document.querySelector('.earth').setAttribute('style', `${input.value}`);

            setTimeout(() => {
                if (correct.toLowerCase().includes(input.value.toLowerCase()) || correct2.toLowerCase().includes(input.value.toLowerCase())) {
                    document.querySelector('.next').style.display = 'inline-block';
                    develoChat.innerHTML = `질헸어! 다음 단계로 넘어가려면 아래 다음 단계 버튼을 눌러줘!`;
                } else {
                    develoChat.innerHTML = `뭔가 잘못된것 같아 다시 한 번 해볼래?`;
                }
            }, 500);
        });






        develoChat.innerHTML = `안녕 ${localStorage.getItem('ninkname')}! <br> 이번에는 땅을 만들어보자`;

        let clickValue = 0;
        const chatContent = [`다른 속성들은 완성되어있는데, height 값이 이상하게 설정되어있어`
            , `height 값을 부모 요소의 10% + 20px 정도의 값으로 설정해줄래?`
            , `만약 잘 모르겠다면 힌트 버튼을 클릭해줘!`
        ]

        document.querySelector('.develo_chat').addEventListener('click', () => {
            console.log(chatContent.length, clickValue);

            if (chatContent.length < clickValue + 1) {
                return;
            } else {
                develoChat.textContent = chatContent[clickValue];
                clickValue++
            }
        })


        document.querySelector('.hint').addEventListener('click', () => {


            document.querySelector('.hint_msg').style.display = 'inline-block';
            develoChat.innerHTML = `2번줄에 주석을 확인해줘!`;

        });



    </script>
</body>

</html>